{% extends "base.html" %}

{% block title %}Expolre Map{% endblock title %}

{% block css %}
<link rel="stylesheet" href="/static/css/google_earth.css">
{% endblock css %}

{% block head_scripts %}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBWqUl-HlAe-bbl_jNiFdrFu5gEcLe7Bes&callback=initMap"
    async defer></script>
{% endblock head_scripts %}

{% block content %}

<div class="header">
    <h1>
        Google Earth Integration
    </h1>
    <button id="snapshot_btn">
        Take Snapshot
    </button>
</div>

<p class="intoductory_para">
    We are thrilled to showcase that how our AI models work seamlessly with realtime Google Earth visualization. <strong>{This
        text needs to be edited}</strong>
</p>

<div id="google-earth"></div>

{% endblock content %}

{% block js %}
<script>
    const map = new google.maps.Map(document.getElementById('google-earth'), {
    center: { lat: 23.226670906906943, lng: 77.32310944557776 },
    zoom: 17,
    mapTypeId: google.maps.MapTypeId.SATELLITE,
    styles: [
        {
            featureType: "all",
            elementType: "labels",
            stylers: [{ visibility: "on" }]
        }
    ]
});

function initMap() {
    console.log('Map Loaded');
}

var button = document.getElementById('snapshot_btn');
button.addEventListener('click', function () {
    var lat = map.getCenter().lat();
    var lng = map.getCenter().lng();
    var zoom = map.getZoom();

    window.location.href = '/map?lat=' + lat + '&lng=' + lng + '&zoom=' + zoom;
});
</script>
{% endblock js %}